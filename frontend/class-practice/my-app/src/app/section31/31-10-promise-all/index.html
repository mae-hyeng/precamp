<!DOCTYPE html>
<html lang="ko">
    <head>
        <title>Promise.all 연습</title>
        <script>
            // 1. Promise 연습
            const startPromise = async () => {
                console.time("=== 개별 Promise 각각 ===");
                const result1 = await new Promise((resolve) => {
                    setTimeout(() => {
                        resolve("성공1");
                    }, 2000);
                });
                const result2 = await new Promise((resolve) => {
                    setTimeout(() => {
                        resolve("성공2");
                    }, 3000);
                });
                const result3 = await new Promise((resolve) => {
                    setTimeout(() => {
                        resolve("성공3");
                    }, 1000);
                });

                const results = [result1, result2, result3];

                console.log(results);
                console.timeEnd("=== 개별 Promise 각각 ===");
                // await new Promise((resolve) => {
                //     setTimeout(() => {
                //         resolve("성공1");
                //     }, 2000);
                // }).then((res)); // res에 "성공1"이 들어옴. result1에 담냐 then()으로 뽑냐 차이

                // 이 모든 것을 실행하는데 6초가 걸림(result1 - 2초 실행 후 result2 - 3초 실행 후 result3 - 1초 실행)
            };

            // 2. Promise.all 연습
            const startPromiseAll = async () => {
                // await Promise.all([promise, promise, promise])
                // await Promise.all([fetch(), fetch(), fetch()])
                console.time("=== 한방 Promise.all ===");

                const results = await Promise.all([
                    new Promise((resolve) => {
                        setTimeout(() => {
                            resolve("성공1");
                        }, 2000);
                    }),
                    new Promise((resolve) => {
                        setTimeout(() => {
                            resolve("성공2");
                        }, 3000);
                    }),
                    new Promise((resolve) => {
                        setTimeout(() => {
                            resolve("성공3");
                        }, 1000);
                    }),
                ]);

                console.log(results);

                console.timeEnd("=== 한방 Promise.all ===");
            };
        </script>
    </head>
    <body>
        <button onclick="startPromise()">Promise 연습</button>
        <button onclick="startPromiseAll()">Promise.all 연습</button>
    </body>
</html>
